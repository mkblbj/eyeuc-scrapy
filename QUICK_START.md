# ğŸš€ å¿«é€Ÿå¼€å§‹ - åˆ†æ‰¹æŠ“å– List 182

## âœ… å·²å®Œæˆçš„å®ç°

### 1. **åˆ†æ‰¹æŠ“å–åŠŸèƒ½**
- âœ… æ·»åŠ äº† `start_page` å’Œ `end_page` å‚æ•°
- âœ… æ”¯æŒæŒ‡å®šé¡µæ•°èŒƒå›´è¿›è¡ŒæŠ“å–
- âœ… æ–‡ä»¶åè‡ªåŠ¨åŒ…å«æ‰¹æ¬¡ä¿¡æ¯ï¼ˆå¦‚ `_p1-5_`ï¼‰
- âœ… è¾¾åˆ° `end_page` æ—¶è‡ªåŠ¨åœæ­¢ç¿»é¡µ

### 2. **åˆå¹¶è„šæœ¬**
- âœ… è‡ªåŠ¨è¯†åˆ«æ‰¹æ¬¡æ–‡ä»¶
- âœ… æŒ‰é¡µæ•°é¡ºåºåˆå¹¶
- âœ… è‡ªåŠ¨å»é‡ï¼ˆåŸºäº `mid`ï¼‰
- âœ… è¾“å‡ºç»Ÿè®¡ä¿¡æ¯

### 3. **è‡ªåŠ¨åŒ–è„šæœ¬**
- âœ… `batch_crawl.sh` - å®Œæ•´çš„è‡ªåŠ¨åŒ–æ‰¹æ¬¡æŠ“å–
- âœ… è¿›åº¦æ˜¾ç¤ºã€é”™è¯¯å¤„ç†ã€å¤±è´¥é‡è¯•æç¤º
- âœ… è‡ªåŠ¨è¯¢é—®æ˜¯å¦åˆå¹¶

### 4. **æ–‡æ¡£**
- âœ… `BATCH_CRAWL_GUIDE.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- âœ… `WHY_193_OK_BUT_182_FAIL.md` - é—®é¢˜åˆ†ææ–‡æ¡£

## ğŸ¯ ç«‹å³å¼€å§‹

### æ–¹æ³• 1ï¼šæ‰‹åŠ¨åˆ†æ‰¹ï¼ˆé€‚åˆæµ‹è¯•ï¼‰

```bash
# ç¬¬ 1 æ‰¹ï¼šç¬¬ 1-5 é¡µ
scrapy crawl eyeuc_mods \
    -a cookies=cookies.json \
    -a list_ids=182 \
    -a start_page=1 \
    -a end_page=5

# ç¬¬ 2 æ‰¹ï¼šç¬¬ 6-10 é¡µ
scrapy crawl eyeuc_mods \
    -a cookies=cookies.json \
    -a list_ids=182 \
    -a start_page=6 \
    -a end_page=10

# åˆå¹¶ç»“æœ
python merge_batches.py 182
```

### æ–¹æ³• 2ï¼šè‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# æŠ“å– list 182 çš„å‰ 20 é¡µï¼ˆæµ‹è¯•ï¼‰
./batch_crawl.sh 182 20 5

# æŠ“å– list 182 çš„å…¨éƒ¨ 100 é¡µ
./batch_crawl.sh 182 100 5
```

**å‚æ•°è¯´æ˜**ï¼š
- `182` - list_id
- `20` / `100` - æ€»é¡µæ•°
- `5` - æ¯æ‰¹é¡µæ•°

### æ–¹æ³• 3ï¼šè‡ªå®šä¹‰ Shell è„šæœ¬

```bash
#!/bin/bash
# æŠ“å–å‰ 30 é¡µï¼ˆæµ‹è¯•ç”¨ï¼‰

for start in 1 6 11 16 21 26; do
    end=$((start + 4))
    
    echo "æŠ“å–ç¬¬ $start-$end é¡µ..."
    scrapy crawl eyeuc_mods \
        -a cookies=cookies.json \
        -a list_ids=182 \
        -a start_page=$start \
        -a end_page=$end \
        -s LOG_LEVEL=WARNING
    
    sleep 10
done

# åˆå¹¶
python merge_batches.py 182
```

## ğŸ“Š é¢„æœŸç»“æœ

### æµ‹è¯•åœºæ™¯ï¼ˆå‰ 20 é¡µï¼‰

**è¾“å…¥**ï¼š
```bash
./batch_crawl.sh 182 20 5
```

**è¾“å‡ºæ–‡ä»¶**ï¼š
```
per_list_output/
â”œâ”€â”€ eyeuc_list182_nba2k25_p1-5_20251017_120000.jsonl    (120 items)
â”œâ”€â”€ eyeuc_list182_nba2k25_p6-10_20251017_120400.jsonl   (120 items)
â”œâ”€â”€ eyeuc_list182_nba2k25_p11-15_20251017_120800.jsonl  (120 items)
â”œâ”€â”€ eyeuc_list182_nba2k25_p16-20_20251017_121200.jsonl  (120 items)
â””â”€â”€ eyeuc_list182_nba2k25_merged_20251017_121500.jsonl  (480 items)
```

**æ—¶é—´**ï¼šçº¦ 15-20 åˆ†é’Ÿ

### å®Œæ•´åœºæ™¯ï¼ˆ100 é¡µï¼‰

**è¾“å…¥**ï¼š
```bash
./batch_crawl.sh 182 100 5
```

**è¾“å‡º**ï¼š20 ä¸ªæ‰¹æ¬¡æ–‡ä»¶ + 1 ä¸ªåˆå¹¶æ–‡ä»¶ï¼Œå…± **~2386 items**

**æ—¶é—´**ï¼šçº¦ 80 åˆ†é’Ÿï¼ˆé¡ºåºæ‰§è¡Œï¼‰

## âš¡ å¹¶è¡ŒåŠ é€Ÿï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æœ‰å¤šæ ¸ CPU æˆ–å¤šå°æœºå™¨ï¼š

```bash
# ç»ˆç«¯ 1ï¼šç¬¬ 1-20 é¡µ
./batch_crawl.sh 182 20 5 &

# ç»ˆç«¯ 2ï¼šç¬¬ 21-40 é¡µ
scrapy crawl eyeuc_mods -a cookies=cookies.json -a list_ids=182 -a start_page=21 -a end_page=40 &

# ç»ˆç«¯ 3ï¼šç¬¬ 41-60 é¡µ
scrapy crawl eyeuc_mods -a cookies=cookies.json -a list_ids=182 -a start_page=41 -a end_page=60 &

# ç­‰å¾…æ‰€æœ‰å®Œæˆ
wait

# åˆå¹¶
python merge_batches.py 182
```

**æ—¶é—´ç¼©çŸ­è‡³ ~20-30 åˆ†é’Ÿ**ï¼

## ğŸ” éªŒè¯ç»“æœ

```python
# æŸ¥çœ‹åˆå¹¶åçš„æ–‡ä»¶
python3 << 'EOF'
import json

with open('per_list_output/eyeuc_list182_nba2k25_merged_*.jsonl', 'r') as f:
    items = [json.loads(line) for line in f if line.strip()]

print(f"æ€»è®¡: {len(items)} items")
print(f"å»é‡å mids: {len(set(item['mid'] for item in items))}")

# æ£€æŸ¥å¤šåˆ†æ”¯ mods
multi_version = [item for item in items if len(item.get('versions', [])) > 1]
print(f"å¤šåˆ†æ”¯ mods: {len(multi_version)}")

# ç¤ºä¾‹
print(f"\nç¤ºä¾‹ï¼ˆå‰ 3 ä¸ªï¼‰:")
for item in items[:3]:
    print(f"  - {item['title'][:50]} ({len(item['versions'])} åˆ†æ”¯)")
EOF
```

## ğŸ“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆè¦åˆ†æ‰¹æŠ“å–ï¼Ÿ

**A**: ä¸€æ¬¡æ€§æŠ“å– 2386 ä¸ª modsï¼ˆ100 é¡µï¼‰å­˜åœ¨ä»¥ä¸‹é£é™©ï¼š
- é•¿æ—¶é—´è¿è¡Œï¼ˆ1+ å°æ—¶ï¼‰å¯¼è‡´ç½‘ç»œæ³¢åŠ¨ã€æœåŠ¡å™¨å¼‚å¸¸
- å¤šåˆ†æ”¯ mods çš„æŸä¸ªåˆ†æ”¯å¤±è´¥ä¼šå¯¼è‡´æ•´ä¸ª mod è¢«ä¸¢å¼ƒ
- ä¸­é€”å¤±è´¥éœ€è¦é‡æ–°å¼€å§‹

åˆ†æ‰¹æŠ“å–æ¯æ‰¹åªéœ€ 3-5 åˆ†é’Ÿï¼Œå‡ºé”™å¯ä»¥å•ç‹¬é‡è·‘ï¼Œæ›´åŠ ç¨³å®šå¯æ§ã€‚

### Q: æ‰¹æ¬¡å¤§å°æ€ä¹ˆé€‰ï¼Ÿ

**A**: 
- **å°æ‰¹æ¬¡ï¼ˆ3-5 é¡µï¼‰**ï¼šæ›´ç¨³å®šï¼Œé€‚åˆç½‘ç»œä¸ç¨³å®šæˆ–å¤æ‚åˆ—è¡¨
- **å¤§æ‰¹æ¬¡ï¼ˆ10-20 é¡µï¼‰**ï¼šæ›´å¿«ï¼Œé€‚åˆç®€å•åˆ—è¡¨æˆ–ç¨³å®šç½‘ç»œ

æ¨è **5 é¡µ/æ‰¹**ï¼Œå¹³è¡¡äº†é€Ÿåº¦å’Œç¨³å®šæ€§ã€‚

### Q: åˆå¹¶åçš„æ•°é‡ä¸ºä»€ä¹ˆæ¯”é¢„æœŸå°‘ï¼Ÿ

**A**: å¯èƒ½åŸå› ï¼š
1. æŸäº› mods çš„å¤šåˆ†æ”¯æ•°æ®ä¸å®Œæ•´ï¼ˆä½†å·²ç»å°½å¯èƒ½ä¿ç•™ï¼‰
2. æœ‰é‡å¤çš„ `mid`ï¼ˆåˆå¹¶è„šæœ¬ä¼šè‡ªåŠ¨å»é‡ï¼‰
3. æŸäº›é¡µé¢å¯èƒ½æœ‰ç©ºæ´ï¼ˆç½‘ç«™æ•°æ®æœ¬èº«çš„é—®é¢˜ï¼‰

å¯ä»¥æŸ¥çœ‹åˆå¹¶è„šæœ¬çš„è¾“å‡ºï¼š"é‡å¤ï¼ˆå·²å»é™¤ï¼‰: X"

### Q: å¯ä»¥ä¸­é€”åœæ­¢å—ï¼Ÿ

**A**: å¯ä»¥ï¼æŒ‰ `Ctrl+C` åœæ­¢å½“å‰æ‰¹æ¬¡ï¼Œå·²å®Œæˆçš„æ‰¹æ¬¡æ–‡ä»¶ä¼šä¿ç•™ã€‚ç¨åå¯ä»¥ä»ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ã€‚

### Q: æ–‡ä»¶å¤ªå¤šæ€ä¹ˆåŠï¼Ÿ

**A**: åˆå¹¶åå¯ä»¥åˆ é™¤æ‰¹æ¬¡æ–‡ä»¶ï¼š

```bash
# åˆå¹¶
python merge_batches.py 182

# éªŒè¯åˆå¹¶æ–‡ä»¶æ­£ç¡®åï¼Œåˆ é™¤æ‰¹æ¬¡æ–‡ä»¶
rm per_list_output/eyeuc_list182_*_p*.jsonl
```

## ğŸ‰ æ€»ç»“

**å·²å®ç°çš„æ ¸å¿ƒåŠŸèƒ½**ï¼š
1. âœ… åˆ†æ‰¹æŠ“å–ï¼ˆ`start_page` / `end_page`ï¼‰
2. âœ… è‡ªåŠ¨åˆå¹¶ï¼ˆ`merge_batches.py`ï¼‰
3. âœ… è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆ`batch_crawl.sh`ï¼‰
4. âœ… è¯¦ç»†æ–‡æ¡£ï¼ˆ`BATCH_CRAWL_GUIDE.md`ï¼‰

**ä½¿ç”¨å»ºè®®**ï¼š
- å¯¹äº **å°åˆ—è¡¨ï¼ˆ< 20 é¡µï¼‰**ï¼šç›´æ¥ä¸€æ¬¡æ€§æŠ“å–
- å¯¹äº **å¤§åˆ—è¡¨ï¼ˆ> 20 é¡µï¼‰**ï¼šä½¿ç”¨åˆ†æ‰¹æŠ“å–
- å…ˆæµ‹è¯•å°æ‰¹æ¬¡ï¼ˆå¦‚å‰ 10 é¡µï¼‰ï¼Œç¡®è®¤æ— è¯¯åå†å®Œæ•´æŠ“å–

ç°åœ¨ä½ å¯ä»¥ï¼š
```bash
# ç«‹å³å¼€å§‹æµ‹è¯•ï¼ˆå‰ 10 é¡µï¼Œçº¦ 5 åˆ†é’Ÿï¼‰
./batch_crawl.sh 182 10 5

# æˆ–å®Œæ•´æŠ“å–ï¼ˆ100 é¡µï¼Œçº¦ 80 åˆ†é’Ÿï¼‰
./batch_crawl.sh 182 100 5
```

ç¥æŠ“å–é¡ºåˆ©ï¼ğŸš€

